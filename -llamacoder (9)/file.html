<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f0f2f5; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        h1 { text-align: center; color: #1c1e21; margin-bottom: 30px; font-size: 28px; }
        .card { background: white; padding: 20px; border-radius: 12px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .balance { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; }
        .balance h2 { font-size: 16px; opacity: 0.9; font-weight: 500; }
        .balance .amount { font-size: 36px; font-weight: bold; margin: 8px 0; }
        .income { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%); color: white; text-align: center; }
        .expense { background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); color: white; text-align: center; }
        .form-group { margin-bottom: 16px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: #1c1e21; }
        input, select { width: 100%; padding: 12px; border: 1px solid #dddfe2; border-radius: 8px; font-size: 16px; background: #f5f6f7; }
        input:focus, select:focus { outline: none; border-color: #667eea; background: white; }
        button { width: 100%; padding: 14px; background: #667eea; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        button:hover { background: #5a67d8; }
        .transaction { background: white; padding: 16px; border-radius: 12px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #e4e6eb; }
        .transaction-info { flex: 1; }
        .transaction-amount { font-weight: bold; font-size: 18px; }
        .income-color { color: #56ab2f; }
        .expense-color { color: #ff416c; }
        .delete-btn { background: #ff416c; color: white; border: none; padding: 8px 12px; border-radius: 6px; font-size: 16px; margin-left: 12px; }
        .empty-state { text-align: center; padding: 40px 20px; color: #8a8d91; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</h1>
        
        <div class="card balance">
            <h2>–ë–∞–ª–∞–Ω—Å</h2>
            <div class="amount" id="balance">‚ÇΩ0</div>
        </div>
        
        <div class="card income">
            <h2>–î–æ—Ö–æ–¥—ã</h2>
            <div class="amount" id="income">‚ÇΩ0</div>
        </div>
        
        <div class="card expense">
            <h2>–†–∞—Å—Ö–æ–¥—ã</h2>
            <div class="amount" id="expense">‚ÇΩ0</div>
        </div>
        
        <div class="card">
            <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</h2>
            <form id="form">
                <div class="form-group">
                    <label>–¢–∏–ø:</label>
                    <select id="type">
                        <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        <option value="income">–î–æ—Ö–æ–¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–°—É–º–º–∞:</label>
                    <input type="number" id="amount" placeholder="0" required>
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <input type="text" id="description" placeholder="–ß—Ç–æ —ç—Ç–æ?" required>
                </div>
                <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
        
        <div class="card">
            <h2>–ò—Å—Ç–æ—Ä–∏—è</h2>
            <div id="transactions"></div>
        </div>
    </div>

    <script>
        let transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
        
        function updateDisplay() {
            const income = transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
            const expense = transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
            const balance = income - expense;
            
            document.getElementById('balance').textContent = '‚ÇΩ' + balance.toLocaleString('ru-RU');
            document.getElementById('income').textContent = '‚ÇΩ' + income.toLocaleString('ru-RU');
            document.getElementById('expense').textContent = '‚ÇΩ' + expense.toLocaleString('ru-RU');
            
            const transactionsDiv = document.getElementById('transactions');
            if (transactions.length === 0) {
                transactionsDiv.innerHTML = '<div class="empty-state"><p>–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p><p style="font-size: 14px; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</p></div>';
            } else {
                transactionsDiv.innerHTML = transactions.map(t => `
                    <div class="transaction">
                        <div class="transaction-info">
                            <div>${t.description}</div>
                            <small style="color: #8a8d91;">${new Date(t.date).toLocaleDateString('ru-RU')}</small>
                        </div>
                        <div>
                            <span class="transaction-amount ${t.type}-color">
                                ${t.type === 'income' ? '+' : '-'}‚ÇΩ${t.amount.toLocaleString('ru-RU')}
                            </span>
                            <button class="delete-btn" onclick="deleteTransaction('${t.id}')">√ó</button>
                        </div>
                    </div>
                `).reverse().join('');
            }
        }
        
        function deleteTransaction(id) {
            transactions = transactions.filter(t => t.id !== id);
            localStorage.setItem('transactions', JSON.stringify(transactions));
            updateDisplay();
        }
        
        document.getElementById('form').addEventListener('submit', function(e) {
            e.preventDefault();
            const transaction = {
                id: Date.now().toString(),
                type: document.getElementById('type').value,
                amount: parseFloat(document.getElementById('amount').value),
                description: document.getElementById('description').value,
                date: new Date().toISOString()
            };
            transactions.push(transaction);
            localStorage.setItem('transactions', JSON.stringify(transactions));
            updateDisplay();
            this.reset();
        });
        
        updateDisplay();
    </script>
</body>
</html>